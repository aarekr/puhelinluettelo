(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(13),u=n.n(r),o=n(2),c=function(e){var t=e.persons,n=e.searchWord,a=e.handleSearchWord;e.newId,e.deleteName;return l.a.createElement("div",null,"filter shown with ",l.a.createElement("input",{value:n,onChange:a}),l.a.createElement("div",null,t.filter((function(e){return e.name.toLowerCase().includes(n)})).map((function(e){return l.a.createElement("p",null,e.name," ",e.number)}))))},m=function(e){return l.a.createElement("div",null,e.name," ",e.number," ",l.a.createElement("br",null))},i=n(3),d=n.n(i),s="http://localhost:3001/api/persons",h=function(){return d.a.get(s).then((function(e){return e.data}))},f=function(e){return d.a.post(s,e).then((function(e){return e.data}))},b=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"error"},t)},p=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(""),i=Object(o.a)(u,2),s=i[0],p=i[1],E=Object(a.useState)(""),v=Object(o.a)(E,2),g=v[0],j=v[1],w=Object(a.useState)(""),O=Object(o.a)(w,2),S=O[0],k=O[1],C=Object(a.useState)(""),N=Object(o.a)(C,2),y=N[0],W=N[1],I=Object(a.useState)(null),D=Object(o.a)(I,2),A=D[0],J=D[1];Object(a.useEffect)((function(){h().then((function(e){r(e)}))}),[]),console.log("render",n.length,"persons");var L=function(e){e.preventDefault();var t=n[y-1].name;1==window.confirm("Delete "+t+"?")&&(d.a.delete("http://localhost:3001/persons/".concat(y)).then((function(e){console.log(e)})),h().then((function(e){r(e),J("Removed "+t+" from phonebook"),setTimeout((function(){J(null)}),5e3)})))},R=function(e){W(e.target.value)};return l.a.createElement("div",null,l.a.createElement("h1",null,"Phonebook"),l.a.createElement(b,{message:A}),l.a.createElement(c,{persons:n,searchWord:S.toLowerCase(),handleSearchWord:function(e){k(e.target.value)},newId:y,deleteName:L}),l.a.createElement("h3",null,"Add a new"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();for(var t={name:s,number:g},a=!1,l=0;l<n.length;l++)s===n[l].name&&(a=!0);a?alert("".concat(s," is already added to phonebook")):f(t).then((function(e){r(n.concat(e)),p(""),j(""),J("Added ".concat(s," to phonebook")),setTimeout((function(){J(null)}),5e3)}))}},l.a.createElement("div",null,"Name:",l.a.createElement("input",{value:s,onChange:function(e){p(e.target.value)}})),l.a.createElement("div",null,"Number:",l.a.createElement("input",{value:g,onChange:function(e){j(e.target.value)}})),l.a.createElement("div",null,"debug: ",s),l.a.createElement("div",null,"debug: ",g),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"add"))),l.a.createElement("h3",null,"Remove name"),l.a.createElement("form",{onSubmit:L},l.a.createElement("div",null,"What id do you want deleted: ",l.a.createElement("input",{value:y,onChange:R}),l.a.createElement("button",{type:"submit"},"delete"))),l.a.createElement("h3",null,"Numbers"),n.map((function(e,t){return l.a.createElement(m,{key:t,name:e.name,number:e.number,id:e.id,onChange:R,newId:y,deleteName:L})})))};n(36);u.a.render(l.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.c4fe5003.chunk.js.map