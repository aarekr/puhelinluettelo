{"version":3,"sources":["components/Filter.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","persons","searchWord","handleSearchWord","newId","deleteName","value","onChange","filter","person","name","toLowerCase","includes","map","filteredPerson","number","Person","props","baseUrl","axios","get","then","response","data","newObject","post","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchWord","setId","errorMessage","setErrorMessage","useEffect","nameService","initialNames","console","log","length","event","preventDefault","window","confirm","delete","setTimeout","handleIdChange","target","onSubmit","nameObject","nameAlreadyAdded","i","alert","returnedName","concat","type","key","id","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d47c9bc8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({persons, searchWord, handleSearchWord, newId, deleteName}) => {\n    return(\n      <div>filter shown with <input value={searchWord} onChange={handleSearchWord} />\n        <div>{persons.filter(person => \n                person.name.toLowerCase().includes(searchWord))\n                .map(filteredPerson => (\n          <p>{filteredPerson.name} {filteredPerson.number}</p>\n          ))}\n        </div>\n      </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Person = (props) => {\n    return(\n        <div>\n            {props.name} {props.number} <br />\n        </div>\n    )\n}\n\nexport default Person","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = '/api/notes'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n  \nexport default { getAll: getAll, create: create, update: update }","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter.js'\nimport Person from './components/Person.js'\nimport axios from 'axios'\nimport nameService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchWord, setSearchWord] = useState('')\n  const [ newId, setId ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    nameService\n      .getAll()\n      .then(initialNames => {\n        setPersons(initialNames)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n\n  const addName = (event) => {\n      event.preventDefault()\n      const nameObject = {\n          name: newName,\n          number: newNumber\n      }\n      let nameAlreadyAdded = false; // nimentarkistus\n      for(let i=0; i < persons.length; i++){\n          if(newName === persons[i].name){\n            nameAlreadyAdded = true\n          }\n      }\n      if(nameAlreadyAdded){ // alert, jos nimi jo lis채tty\n        alert(`${newName} is already added to phonebook`)\n      }\n      else{ // lis채t채채n uusi nimi\n        nameService\n          .create(nameObject)\n          .then(returnedName => {\n            setPersons(persons.concat(returnedName))\n            setNewName('')\n            setNewNumber('')\n            setErrorMessage(`Added ${newName} to phonebook`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n  }\n  const deleteName = (event) => {\n    event.preventDefault()\n    var person = persons[newId-1].name\n    var r = window.confirm(\"Delete \" + person + \"?\")\n    if(r == true){\n      axios\n        .delete(`http://localhost:3001/persons/${newId}`)\n        .then(response => {\n          console.log(response)\n        })\n        nameService\n          .getAll()\n          .then(initialNames => {\n            setPersons(initialNames)\n            setErrorMessage(`Removed ` + person + ` from phonebook`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n    }\n  }\n\n  const handleNameChange = (event) => {\n      setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n      setNewNumber(event.target.value)\n  }\n  const handleSearchWord = (event) => {\n      setSearchWord(event.target.value)\n  }\n  const handleIdChange = (event) => {\n    setId(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <Filter persons={persons} \n              searchWord={searchWord.toLowerCase()} \n              handleSearchWord={handleSearchWord}\n              newId={newId} deleteName={deleteName} />\n      <h3>Add a new</h3>\n      <form onSubmit={addName}>\n          <div>Name: \n            <input value={newName} onChange={handleNameChange} />\n          </div>\n          <div>Number: \n            <input value={newNumber} onChange={handleNumberChange} />\n          </div>\n          <div>debug: {newName}</div>\n          <div>debug: {newNumber}</div>\n          <div><button type=\"submit\">add</button></div>\n      </form>\n      <h3>Remove name</h3>\n      <form onSubmit={deleteName}>\n        <div>What id do you want deleted: <input value={newId} onChange={handleIdChange} />\n            <button type=\"submit\">delete</button></div>\n      </form>\n\n      <h3>Numbers</h3>\n        {persons.map((person, i)=>\n            <Person key={i} \n                    name={person.name} \n                    number={person.number} \n                    id = {person.id}\n                    onChange={handleIdChange}\n                    newId={newId} \n                    deleteName={deleteName} />\n        )}\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}